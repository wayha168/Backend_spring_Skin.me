<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      .sidebar {
        width: 20%;
        height: 100vh;
        background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        padding: 0;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1000;
        color: white;
        box-shadow: 2px 0 15px rgba(0, 0, 0, 0.2);
        overflow-y: auto;
      }

      .sidebar-header {
        padding: 30px 20px;
        text-align: center;
        border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        margin-bottom: 20px;
      }

      .sidebar-header h2 {
        font-size: 24px;
        font-weight: 700;
        color: white;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .sidebar-header i {
        font-size: 28px;
      }

      .nav-link {
        color: rgba(255, 255, 255, 0.9) !important;
        padding: 12px 20px !important;
        border-radius: 8px !important;
        margin: 0 15px 8px 15px !important;
        transition: all 0.3s ease !important;
        font-size: 15px;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .nav-link:hover {
        background-color: rgba(255, 255, 255, 0.2) !important;
        transform: translateX(5px);
        color: white !important;
      }

      .nav-link.active {
        background: rgba(255, 255, 255, 0.3) !important;
        border-left: 4px solid white;
        padding-left: 16px !important;
      }

      .collapse {
        margin-top: 8px;
      }

      .collapse .nav-link {
        margin-left: 35px;
        font-size: 14px;
        padding: 10px 20px !important;
        color: rgba(255, 255, 255, 0.8) !important;
      }

      .collapse .nav-link:hover {
        background-color: rgba(255, 255, 255, 0.15) !important;
        color: white !important;
      }

      .nav-link > i {
        width: 20px;
        text-align: center;
      }

      .nav-item.mb-3 > .nav-link[data-bs-toggle="collapse"] {
        cursor: pointer;
      }

      .nav-item.mb-3 > .nav-link[data-bs-toggle="collapse"]::after {
        content: '';
        margin-left: auto;
        display: inline-block;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        border-top: 6px solid currentColor;
        transition: transform 0.3s;
      }

      .nav-item.mb-3 > .nav-link[data-bs-toggle="collapse"][aria-expanded="true"]::after {
        transform: rotate(-180deg);
      }

      .sidebar-footer {
        position: absolute;
        bottom: 0;
        width: 100%;
        border-top: 2px solid rgba(255, 255, 255, 0.1);
        padding: 20px;
        padding-left: 15px;
      }

      .main-content {
        margin-left: 260px;
        padding: 20px;
      }

      /* Scrollbar styling */
      .sidebar::-webkit-scrollbar {
        width: 8px;
      }

      .sidebar::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
      }

      .sidebar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 4px;
      }

      .sidebar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.5);
      }

      @media (max-width: 768px) {
        .sidebar {
          width: 200px;
        }

        .main-content {
          margin-left: 200px;
        }
      }
    </style>
  </head>

  <body>
    <div th:fragment="sidebar" class="sidebar d-flex flex-column">
      <div class="sidebar-header">
        <h2><i class="bi bi-flower1"></i> SkinMe</h2>
      </div>

      <ul class="nav flex-column" style="padding-top: 10px;">
        <li class="nav-item mb-3">
          <a th:href="@{/dashboard}" class="nav-link">
            <i class="bi bi-speedometer2"></i> Dashboard
          </a>
        </li>

        <li class="nav-item mb-3">
          <a
            class="nav-link"
            data-bs-toggle="collapse"
            href="#stockMenu"
            role="button"
            aria-expanded="false"
            aria-controls="stockMenu"
          >
            <i class="bi bi-box-seam"></i> Stock Management
          </a>
          <div class="collapse" id="stockMenu">
            <a th:href="@{/views/categories}" class="nav-link">
              <i class="bi bi-tags"></i> Categories
            </a>
            <a th:href="@{/views/products}" class="nav-link">
              <i class="bi bi-box"></i> Products
            </a>
          </div>
        </li>

        <li class="nav-item mb-3">
          <a
            class="nav-link"
            data-bs-toggle="collapse"
            href="#saleMenu"
            role="button"
            aria-expanded="false"
            aria-controls="saleMenu"
          >
            <i class="bi bi-cash-coin"></i> Sales Management
          </a>
          <div class="collapse" id="saleMenu">
            <a th:href="@{/views/orders}" class="nav-link">
              <i class="bi bi-bag-check"></i> Orders Record
            </a>
            <a th:href="@{/views/payments}" class="nav-link">
              <i class="bi bi-receipt"></i> Payment Record
            </a>
            <a th:href="@{/views/delivery}" class="nav-link">
              <i class="bi bi-truck"></i> Delivery Record
            </a>
          </div>
        </li>

        <li class="nav-item mb-3">
          <a
            class="nav-link"
            data-bs-toggle="collapse"
            href="#userMenu"
            role="button"
            aria-expanded="false"
            aria-controls="userMenu"
          >
            <i class="bi bi-person-circle"></i> User Menu
          </a>
          <div class="collapse" id="userMenu">
            <a th:href="@{/views/my-orders}" class="nav-link">
              <i class="bi bi-bag"></i> My Orders
            </a>
            <a th:href="@{/views/my-payments}" class="nav-link">
              <i class="bi bi-wallet2"></i> My Payments
            </a>
          </div>
        </li>
      </ul>

      <div class="sidebar-footer">
        <a
          href="#"
          class="nav-link"
          onclick="
            event.preventDefault();
            document.getElementById('logoutForm').submit();
          "
        >
          <i class="bi bi-box-arrow-right"></i> Logout
        </a>
      </div>
    </div>

    <form id="logoutForm" th:action="@{/logout}" method="POST" style="display: none;"></form>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
            <i class="bi bi-box-arrow-right"></i> Logout
          </a>
        </li>
      </ul>

      <!-- Hidden logout form -->
      <form id="logoutForm" th:action="@{/logout}" method="post" style="display: none">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
      </form>
    </div>

    <!-- Bootstrap JS (optional for dropdowns, modals, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
