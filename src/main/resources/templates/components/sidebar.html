<style>
  :root {
    --sidebar-width: 45vw;
    --sidebar-bg: #000000;
    --sidebar-accent: #ffffff;
    --sidebar-accent-2: #bfbfbf;
    --sidebar-text: #e6edf7;
    --sidebar-muted: rgba(230, 237, 247, 0.65);
    --sidebar-border: rgba(255, 255, 255, 0.08);
  }

  .sidebar {
    width: 100%;
    height: 100vh;
    background: #000000;
    padding: 12px;
    position: sticky;
    top: 0;
    z-index: 1000;
    color: var(--sidebar-text);
    box-shadow: 12px 0 30px rgba(10, 18, 32, 0.35);
    display: flex;
    flex-direction: column;
    gap: 18px;
    overflow: hidden;
  }

  .sidebar::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.05), transparent 40%);
    pointer-events: none;
  }

  .sidebar-header {
    position: relative;
    padding: 16px;
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid var(--sidebar-border);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }

  .sidebar-header h2 {
    font-size: 20px;
    font-weight: 700;
    letter-spacing: 0.4px;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .sidebar-header i {
    font-size: 24px;
    color: var(--sidebar-accent);
  }

  .sidebar-nav {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 8px 4px 0 4px;
    width: 100%;
    margin-top: 6px;
    overflow-y: auto;
    overflow-x: hidden;
  }

  .sidebar-nav::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-nav::-webkit-scrollbar-track {
    background: transparent;
  }

  .sidebar-nav::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 999px;
  }

  .nav-link {
    color: var(--sidebar-muted) !important;
    padding: 12px 14px !important;
    border-radius: 12px !important;
    margin: 0 !important;
    transition: all 0.2s ease !important;
    font-size: 14px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
  }

  .nav-link:hover {
    background: rgba(255, 255, 255, 0.12) !important;
    color: #ffffff !important;
    transform: translateX(2px);
  }

  .nav-link.active {
    background: rgba(255, 255, 255, 0.18) !important;
    color: #ffffff !important;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.08);
  }

  .nav-link > i {
    width: 20px;
    text-align: center;
    font-size: 18px;
  }

  .nav-item.mb-3 {
    margin-bottom: 0 !important;
  }

  .nav-item.mb-3 > .nav-link[data-bs-toggle="collapse"]::after {
    content: "";
    margin-left: auto;
    display: inline-block;
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 6px solid currentColor;
    transition: transform 0.2s;
  }

  .nav-item.mb-3 > .nav-link[data-bs-toggle="collapse"][aria-expanded="true"]::after {
    transform: rotate(-180deg);
  }

  .collapse {
    margin-top: 4px;
    padding-left: 8px;
  }

  .collapse .nav-link {
    font-size: 13px;
    padding: 10px 12px !important;
    color: var(--sidebar-muted) !important;
  }

  .collapse .nav-link:hover {
    background: rgba(255, 255, 255, 0.08) !important;
    color: #ffffff !important;
  }

  .sidebar-footer {
    position: relative;
    margin-top: auto;
    padding-top: 12px;
    border-top: 1px solid var(--sidebar-border);
  }

  .sidebar-footer .nav-link {
    background: rgba(255, 255, 255, 0.08);
    color: #ffffff !important;
  }

  @media (max-width: 720px) {
    .sidebar {
      width: 100%;
      height: auto;
      border-radius: 0 0 20px 20px;
      padding-bottom: 12px;
    }
  }
</style>

<div th:fragment="sidebar" class="sidebar">
  <div class="sidebar-header">
    <h2><i class="bi bi-flower1"></i> SkinMe</h2>
  </div>

  <ul class="nav flex-column sidebar-nav">
    <li class="nav-item mb-3">
      <a th:href="@{/dashboard}" class="nav-link"> <i class="bi bi-speedometer2"></i> Dashboard </a>
    </li>

    <li class="nav-item mb-3">
      <a
        class="nav-link"
        data-bs-toggle="collapse"
        href="#stockMenu"
        role="button"
        aria-expanded="false"
        aria-controls="stockMenu"
      >
        <i class="bi bi-box-seam"></i> Stock Management
      </a>
      <div class="collapse" id="stockMenu">
        <a th:href="@{/views/categories}" class="nav-link"> <i class="bi bi-tags"></i> Categories </a>
        <a th:href="@{/views/products}" class="nav-link"> <i class="bi bi-box"></i> Products </a>
      </div>
    </li>

    <li class="nav-item mb-3">
      <a
        class="nav-link"
        data-bs-toggle="collapse"
        href="#saleMenu"
        role="button"
        aria-expanded="false"
        aria-controls="saleMenu"
      >
        <i class="bi bi-cash-coin"></i> Sales Management
      </a>
      <div class="collapse" id="saleMenu">
        <a th:href="@{/views/orders}" class="nav-link"> <i class="bi bi-bag-check"></i> Orders Record </a>
        <a th:href="@{/views/payments}" class="nav-link"> <i class="bi bi-receipt"></i> Payment Record </a>
        <a th:href="@{/views/delivery}" class="nav-link"> <i class="bi bi-truck"></i> Delivery Record </a>
      </div>
    </li>

    <li class="nav-item mb-3">
      <a
        class="nav-link"
        data-bs-toggle="collapse"
        href="#userMenu"
        role="button"
        aria-expanded="false"
        aria-controls="userMenu"
      >
        <i class="bi bi-person-circle"></i> User Menu
      </a>
      <div class="collapse" id="userMenu">
        <a th:href="@{/views/my-orders}" class="nav-link"> <i class="bi bi-bag"></i> My Orders </a>
        <a th:href="@{/views/my-payments}" class="nav-link"> <i class="bi bi-wallet2"></i> My Payments </a>
      </div>
    </li>
  </ul>

  <div class="sidebar-footer">
    <a
      href="#"
      class="nav-link"
      onclick="
        event.preventDefault();
        document.getElementById('logoutForm').submit();
      "
    >
      <i class="bi bi-box-arrow-right"></i> Logout
    </a>
  </div>
</div>

<form id="logoutForm" th:action="@{/logout}" method="POST" style="display: none"></form>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
